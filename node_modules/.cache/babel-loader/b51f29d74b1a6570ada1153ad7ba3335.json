{"ast":null,"code":"import _slicedToArray from \"/Users/Yoko/Desktop/YOKO/Web_full_stack/designer_blog/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Yoko/Desktop/YOKO/Web_full_stack/designer_blog/frontend/src/pages/Profile.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Post from \"../components/Post\";\nexport default function Profile(props) {\n  const user = props.user;\n\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        posts = _useState2[0],\n        setPosts = _useState2[1];\n\n  console.log(props.posts);\n\n  const getPosts = async () => {\n    const token = localStorage.getItem(\"token\");\n\n    if (token) {\n      const url = \"\".concat(process.env.REACT_APP_API_URL, \"/user/get_user\");\n      const response = await fetch(url, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Token \".concat(token)\n        }\n      });\n\n      if (response.ok) {\n        const data = await response.json();\n        localStorage.setItem(\"token\", token);\n        setPosts(data.posts);\n      }\n    }\n  };\n\n  useEffect(() => {\n    getPosts();\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"d-flex flex-wrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(Card, {\n    style: {\n      width: \"18rem\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(Card.Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Featured\"), React.createElement(ListGroup, {\n    variant: \"flush\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(ListGroup.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"Cras justo odio\"), React.createElement(ListGroup.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Dapibus ac facilisis in\"), React.createElement(ListGroup.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"Vestibulum at eros\"))), posts && posts.length > 0 ? posts.map(post => {\n    return React.createElement(Post, {\n      data: post,\n      key: post.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    });\n  }) : React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, \"You don't have any post yet\"));\n}","map":{"version":3,"sources":["/Users/Yoko/Desktop/YOKO/Web_full_stack/designer_blog/frontend/src/pages/Profile.js"],"names":["React","useState","useEffect","Post","Profile","props","user","posts","setPosts","console","log","getPosts","token","localStorage","getItem","url","process","env","REACT_APP_API_URL","response","fetch","headers","Authorization","ok","data","json","setItem","width","length","map","post","id"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AAEA,eAAe,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AAAA,QAC7BC,IAD6B,GACpBD,KADoB,CAC7BC,IAD6B;;AAAA,oBAEXL,QAAQ,CAAC,IAAD,CAFG;AAAA;AAAA,QAE9BM,KAF8B;AAAA,QAEvBC,QAFuB;;AAGrCC,EAAAA,OAAO,CAACC,GAAR,CAAYL,KAAK,CAACE,KAAlB;;AAEA,QAAMI,QAAQ,GAAG,YAAY;AAC3B,UAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AACA,QAAIF,KAAJ,EAAW;AACT,YAAMG,GAAG,aAAMC,OAAO,CAACC,GAAR,CAAYC,iBAAlB,mBAAT;AACA,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACL,GAAD,EAAM;AAChCM,QAAAA,OAAO,EAAE;AACP,0BAAgB,kBADT;AAEPC,UAAAA,aAAa,kBAAWV,KAAX;AAFN;AADuB,OAAN,CAA5B;;AAMA,UAAIO,QAAQ,CAACI,EAAb,EAAiB;AACf,cAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAT,EAAnB;AACAZ,QAAAA,YAAY,CAACa,OAAb,CAAqB,OAArB,EAA8Bd,KAA9B;AACAJ,QAAAA,QAAQ,CAACgB,IAAI,CAACjB,KAAN,CAAR;AACD;AACF;AACF,GAhBD;;AAkBAL,EAAAA,SAAS,CAAC,MAAM;AACdS,IAAAA,QAAQ;AACT,GAFQ,EAEN,EAFM,CAAT;AAIA,SACE;AAAK,IAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEgB,MAAAA,KAAK,EAAE;AAAT,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD,CAAM,MAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE,oBAAC,SAAD;AAAW,IAAA,OAAO,EAAC,OAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD,CAAW,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEE,oBAAC,SAAD,CAAW,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAFF,EAGE,oBAAC,SAAD,CAAW,IAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAHF,CAFF,CADF,EAUGpB,KAAK,IAAIA,KAAK,CAACqB,MAAN,GAAe,CAAxB,GACCrB,KAAK,CAACsB,GAAN,CAAUC,IAAI,IAAI;AAChB,WAAO,oBAAC,IAAD;AAAM,MAAA,IAAI,EAAEA,IAAZ;AAAkB,MAAA,GAAG,EAAEA,IAAI,CAACC,EAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAFD,CADD,GAKC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAfJ,CADF;AAoBD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Post from \"../components/Post\";\n\nexport default function Profile(props) {\n  const { user } = props;\n  const [posts, setPosts] = useState(null);\n  console.log(props.posts);\n\n  const getPosts = async () => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      const url = `${process.env.REACT_APP_API_URL}/user/get_user`;\n      const response = await fetch(url, {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Token ${token}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        localStorage.setItem(\"token\", token);\n        setPosts(data.posts);\n      }\n    }\n  };\n\n  useEffect(() => {\n    getPosts();\n  }, []);\n\n  return (\n    <div className=\"d-flex flex-wrap\">\n      <Card style={{ width: \"18rem\" }}>\n        <Card.Header>Featured</Card.Header>\n        <ListGroup variant=\"flush\">\n          <ListGroup.Item>Cras justo odio</ListGroup.Item>\n          <ListGroup.Item>Dapibus ac facilisis in</ListGroup.Item>\n          <ListGroup.Item>Vestibulum at eros</ListGroup.Item>\n        </ListGroup>\n      </Card>\n\n      {posts && posts.length > 0 ? (\n        posts.map(post => {\n          return <Post data={post} key={post.id} />;\n        })\n      ) : (\n        <p>You don't have any post yet</p>\n      )}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}