{"ast":null,"code":"import _objectSpread from \"/Users/Yoko/Desktop/YOKO/Web_full_stack/designer_blog/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/Yoko/Desktop/YOKO/Web_full_stack/designer_blog/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Yoko/Desktop/YOKO/Web_full_stack/designer_blog/frontend/src/pages/UploadPost.js\";\nimport React, { useState } from \"react\"; // import { Button } from \"react-bootstrap\";\n\nimport { useHistory } from \"react-router-dom\";\nimport notify from \"../utils/Notification\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport Button from \"react-validation/build/button\";\nimport { required } from \"../utils/Validation\";\nexport default function Upload() {\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        inputData = _useState2[0],\n        setInputData = _useState2[1];\n\n  const history = useHistory();\n\n  const handleOnChange = e => {\n    e.preventDefault();\n    setInputData(_objectSpread({}, inputData, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const handleOnSubmit = async e => {\n    e.preventDefault();\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/post/`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${localStorage.getItem(\"token\")}`\n      },\n      body: JSON.stringify(inputData)\n    });\n    const data = await response.json();\n\n    if (data[\"status\"] === \"OK\") {\n      // alert(\"adadasdaskdjada SUCCESS\")\n      notify(\"Info\", \"Post successfully\", \"success\");\n      history.push(\"/home\");\n    } else {\n      // alert(\"Nooooooooooooooooooooooooo It failllllllllllllllllllllllllllllllllllllllllllllllllllllll\")\n      notify(\"Error\", \"Post fail\", \"danger\");\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, React.createElement(\"section\", {\n    className: \"container right-signup-area\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onChange: handleOnChange,\n    onSubmit: handleOnSubmit,\n    className: \"form-signin \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"h3\", {\n    style: {\n      fontWeight: \"600\",\n      color: \"#333333\",\n      marginTop: \"30px\",\n      marginBottom: \"20px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, \"Upload Your Artwork\"), React.createElement(\"p\", {\n    style: {\n      fontWeight: \"600\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Image\"), React.createElement(Input, {\n    style: {\n      marginBottom: \"20px\"\n    },\n    type: \"text\",\n    name: \"img_url\",\n    id: \"inputEmail\",\n    className: \"form-control\",\n    placeholder: \"Put Your Image URL\",\n    validations: [required],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    style: {\n      fontWeight: \"600\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Title\"), React.createElement(\"input\", {\n    style: {\n      marginBottom: \"20px\"\n    },\n    type: \"text\",\n    name: \"title\",\n    id: \"inputEmail\",\n    className: \"form-control\",\n    placeholder: \"Put Your Title\",\n    required: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    style: {\n      fontWeight: \"600\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, \"Description\"), React.createElement(\"textarea\", {\n    style: {\n      marginBottom: \"20px\"\n    },\n    type: \"text\",\n    name: \"description\",\n    id: \"descc\",\n    className: \"form-control\",\n    placeholder: \"Put Your Description\",\n    required: \"\",\n    rows: \"6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"btn btn-lg btn-primary btn-block signin-btn-v2\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"Post Now\")))));\n}","map":{"version":3,"sources":["/Users/Yoko/Desktop/YOKO/Web_full_stack/designer_blog/frontend/src/pages/UploadPost.js"],"names":["React","useState","useHistory","notify","Form","Input","Button","required","Upload","inputData","setInputData","history","handleOnChange","e","preventDefault","target","name","value","handleOnSubmit","response","fetch","process","env","REACT_APP_API_URL","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","data","json","push","fontWeight","color","marginTop","marginBottom"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n// import { Button } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport notify from \"../utils/Notification\";\nimport Form from \"react-validation/build/form\";\nimport Input from \"react-validation/build/input\";\nimport Button from \"react-validation/build/button\";\nimport { required } from \"../utils/Validation\";\n\nexport default function Upload() {\n  const [inputData, setInputData] = useState({});\n  const history = useHistory();\n\n  const handleOnChange = e => {\n    e.preventDefault();\n    setInputData({ ...inputData, [e.target.name]: e.target.value });\n  };\n\n  const handleOnSubmit = async e => {\n    e.preventDefault();\n    const response = await fetch(`${process.env.REACT_APP_API_URL}/post/`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${localStorage.getItem(\"token\")}`\n      },\n      body: JSON.stringify(inputData)\n    });\n    const data = await response.json();\n    if (data[\"status\"] === \"OK\") {\n      // alert(\"adadasdaskdjada SUCCESS\")\n      notify(\"Info\", \"Post successfully\", \"success\");\n      history.push(\"/home\");\n    } else {\n      // alert(\"Nooooooooooooooooooooooooo It failllllllllllllllllllllllllllllllllllllllllllllllllllllll\")\n      notify(\"Error\", \"Post fail\", \"danger\");\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <section className=\"container right-signup-area\">\n        <div>\n          <form\n            onChange={handleOnChange}\n            onSubmit={handleOnSubmit}\n            className=\"form-signin \"\n          >\n            <h3\n              style={{\n                fontWeight: \"600\",\n                color: \"#333333\",\n                marginTop: \"30px\",\n                marginBottom: \"20px\"\n              }}\n            >\n              Upload Your Artwork\n            </h3>\n            <p style={{ fontWeight: \"600\" }}>Image</p>\n            <Input\n              style={{ marginBottom: \"20px\" }}\n              type=\"text\"\n              name=\"img_url\"\n              id=\"inputEmail\"\n              className=\"form-control\"\n              placeholder=\"Put Your Image URL\"\n              validations={[required]}\n            />\n            <p style={{ fontWeight: \"600\" }}>Title</p>\n            <input\n              style={{ marginBottom: \"20px\" }}\n              type=\"text\"\n              name=\"title\"\n              id=\"inputEmail\"\n              className=\"form-control\"\n              placeholder=\"Put Your Title\"\n              required=\"\"\n            />\n            <p style={{ fontWeight: \"600\" }}>Description</p>\n            <textarea\n              style={{ marginBottom: \"20px\" }}\n              type=\"text\"\n              name=\"description\"\n              id=\"descc\"\n              className=\"form-control\"\n              placeholder=\"Put Your Description\"\n              required=\"\"\n              rows=\"6\"\n            />\n            {/* <p style={{ fontWeight: \"600\" }}>Password</p>\n            <input\n              style={{ marginBottom: \"20px\" }}\n              type=\"password\"\n              id=\"inputPassword\"\n              className=\"form-control\"\n              placeholder=\"Password\"\n              required=\"\"\n\n\n            /> */}\n\n            <button\n              className=\"btn btn-lg btn-primary btn-block signin-btn-v2\"\n              type=\"submit\"\n            >\n              Post Now\n            </button>\n            {/* <p className=\"mt-5 mb-3 text-muted\">© 2017-2019</p> */}\n            {/* </form> */}\n          </form>\n        </div>\n      </section>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}