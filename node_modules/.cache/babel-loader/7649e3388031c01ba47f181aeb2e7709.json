{"ast":null,"code":"import _slicedToArray from \"/Users/Yoko/Desktop/YOKO/Web_full_stack/designer_blog/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Yoko/Desktop/YOKO/Web_full_stack/designer_blog/frontend/src/components/Comment.js\";\nimport React, { useState } from \"react\";\nimport { Nav } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport { Modal } from \"react-bootstrap\";\nexport default function Comment(props) {\n  const _useState = useState(props.data.body),\n        _useState2 = _slicedToArray(_useState, 2),\n        body = _useState2[0],\n        setBody = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        openModal = _useState4[0],\n        setOpenModal = _useState4[1];\n\n  const handleOnClose = event => {\n    event.preventDefault();\n    setOpenModal(false);\n  };\n\n  const editComment = async id => {\n    console.log(\"BODY\", body);\n    const res = await fetch(\"https://localhost:5000/post/comment/\".concat(id), {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Token \".concat(props.token)\n      },\n      body: JSON.stringify({\n        body: body\n      })\n    });\n\n    if (res.ok) {\n      props.handleOnLoading();\n      setOpenModal(false);\n    }\n  };\n\n  const deleteComment = async id => {\n    console.log(\"BODY\", body);\n    const res = await fetch(\"https://localhost:5000/post/comment/\".concat(id, \"/delete\"), {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Token \".concat(props.token)\n      },\n      body: JSON.stringify({\n        id: id\n      })\n    });\n    const data = await res.json();\n\n    if (data.success) {\n      props.handleOnLoading();\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \" \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"hr\", {\n    className: \"space-line-comment\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"header-comment-area\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"h6\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, props.data.user.firstname))), props.user.id == props.data.user_id && React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    className: \"edit-btn-comment\",\n    onClick: () => setOpenModal(true),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Edit\"), React.createElement(\"button\", {\n    className: \"edit-btn-comment\",\n    onClick: () => {\n      deleteComment(props.data.id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Delete\"))), React.createElement(\"span\", {\n    style: {\n      fontSize: \"12px\"\n    },\n    className: \"text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, props.data.created_at), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, props.data.body), React.createElement(Modal, {\n    show: openModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(Modal.Header, {\n    onClick: handleOnClose,\n    closeButton: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(Modal.Title, {\n    className: \"d-flex flex-column justify-content-center align-items-center \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, React.createElement(\"strong\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Edit Comment\"))), React.createElement(Modal.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: \"d-flex flex-column justify-content-center  \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"title-input-edit-post\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, \"Description\"), React.createElement(\"input\", {\n    name: \"body\",\n    className: \"input-edit-post form-control\",\n    value: body,\n    onChange: e => {\n      setBody(e.target.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btn btn-lg btn-primary btn-block signin-btn-v2\",\n    onClick: () => {\n      editComment(props.data.id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, \"Edit\")))));\n}","map":{"version":3,"sources":["/Users/Yoko/Desktop/YOKO/Web_full_stack/designer_blog/frontend/src/components/Comment.js"],"names":["React","useState","Nav","useHistory","Modal","Comment","props","data","body","setBody","openModal","setOpenModal","handleOnClose","event","preventDefault","editComment","id","console","log","res","fetch","method","headers","Authorization","token","JSON","stringify","ok","handleOnLoading","deleteComment","json","success","user","firstname","user_id","fontSize","created_at","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Nav } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport { Modal } from \"react-bootstrap\";\n\nexport default function Comment(props) {\n  const [body, setBody] = useState(props.data.body);\n  const [openModal, setOpenModal] = useState(false);\n\n  const handleOnClose = event => {\n    event.preventDefault();\n    setOpenModal(false);\n  };\n\n  const editComment = async id => {\n    console.log(\"BODY\", body);\n    const res = await fetch(`https://localhost:5000/post/comment/${id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Token ${props.token}`\n      },\n      body: JSON.stringify({ body: body })\n    });\n    if (res.ok) {\n      props.handleOnLoading();\n      setOpenModal(false);\n    }\n  };\n\n  const deleteComment = async id => {\n    console.log(\"BODY\", body);\n    const res = await fetch(\n      `https://localhost:5000/post/comment/${id}/delete`,\n      {\n        method: \"DELETE\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Token ${props.token}`\n        },\n        body: JSON.stringify({ id: id })\n      }\n    );\n    const data = await res.json();\n    if(data.success){\n      props.handleOnLoading();\n    }\n  };\n\n  return (\n    <div className=\" \">\n      <hr className=\"space-line-comment\"></hr>\n      <div className=\"header-comment-area\">\n        <div>\n          <h6>\n            <strong>{props.data.user.firstname}</strong>\n          </h6>\n        </div>\n        {props.user.id == props.data.user_id && (\n          <div>\n            <button\n              className=\"edit-btn-comment\"\n              onClick={() => setOpenModal(true)}\n            >\n              Edit\n            </button>\n            <button\n              className=\"edit-btn-comment\"\n              onClick={() => {\n                deleteComment(props.data.id);\n              }}\n            >\n              Delete\n            </button>\n          </div>\n        )}\n      </div>\n\n      <span style={{ fontSize: \"12px\" }} className=\"text-muted\">\n        {props.data.created_at}\n      </span>\n\n      <p>{props.data.body}</p>\n\n      <Modal show={openModal}>\n        <Modal.Header onClick={handleOnClose} closeButton>\n          <Modal.Title className=\"d-flex flex-column justify-content-center align-items-center \">\n            <strong>Edit Comment</strong>\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <form className=\"d-flex flex-column justify-content-center  \">\n            <p className=\"title-input-edit-post\">Description</p>\n            <input\n              name=\"body\"\n              className=\"input-edit-post form-control\"\n              value={body}\n              onChange={e => {\n                setBody(e.target.value);\n              }}\n            />\n            <button\n              type=\"button\"\n              className=\"btn btn-lg btn-primary btn-block signin-btn-v2\"\n              onClick={() => {\n                editComment(props.data.id);\n              }}\n            >\n              Edit\n            </button>\n          </form>\n        </Modal.Body>\n      </Modal>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}